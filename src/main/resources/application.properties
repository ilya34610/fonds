server.port=8080

# Primary DB
spring.datasource.primary.url=jdbc:postgresql://${DB_PRIMARY_HOST:prod-db-primary}:5432/fonds
spring.datasource.primary.username=${DB_USER:prod_user}
spring.datasource.primary.password=${DB_PASSWORD:secure_password}
spring.datasource.primary.driver-class-name=org.postgresql.Driver

# Primary Hikari
spring.datasource.primary.hikari.pool-name=PrimaryHikariPool
spring.datasource.primary.hikari.connection-timeout=30000
spring.datasource.primary.hikari.max-lifetime=600000
spring.datasource.primary.hikari.idle-timeout=30000
spring.datasource.primary.hikari.maximum-pool-size=20

# Standby DB
spring.datasource.standby.url=jdbc:postgresql://${DB_STANDBY_HOST:prod-db-standby}:5432/fonds
spring.datasource.standby.username=${DB_USER:prod_user}
spring.datasource.standby.password=${DB_PASSWORD:secure_password}
spring.datasource.standby.driver-class-name=org.postgresql.Driver

# Standby Hikari
spring.datasource.standby.hikari.pool-name=StandbyHikariPool
spring.datasource.standby.hikari.connection-timeout=30000
spring.datasource.standby.hikari.max-lifetime=600000
spring.datasource.standby.hikari.idle-timeout=30000
spring.datasource.standby.hikari.maximum-pool-size=20

# JPA
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL10Dialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

spring.datasource.sql-script-encoding=UTF-8

# Security
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never

# Email
mail.smtp.login=${SMTP_USER}
mail.smtp.password=${SMTP_PASSWORD}
mail.smtp.host=${SMTP_HOST:smtp.provider.com}
mail.smtp.port=587
mail.smtp.auth=true
mail.smtp.starttls.enable=true
mail.smtp.ssl.trust=*